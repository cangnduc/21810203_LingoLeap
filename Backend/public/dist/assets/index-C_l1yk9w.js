import{j as e,M as p,a9 as j,U as $}from"./index-DVmOQZrp.js";import{s as N}from"./Samples-DUG5vYRn.js";import{S as k}from"./ScrollToTopBtn-C9QlDYc7.js";const g={default:{bg:"bg-gray-50/80 dark:bg-slate-800/50",text:"text-gray-700 dark:text-gray-200",border:"border-gray-100 dark:border-slate-600",hover:"hover:bg-gray-100/80 dark:hover:bg-slate-700/50 hover:border-gray-200 dark:hover:border-slate-500 hover:shadow-md transition-all duration-200"},general:{bg:"bg-blue-50/80 dark:bg-slate-800/50",text:"text-blue-700 dark:text-blue-200",border:"border-blue-100 dark:border-slate-600",hover:"hover:bg-blue-100/80 dark:hover:bg-slate-700/50 hover:border-blue-200 dark:hover:border-slate-500 hover:shadow-md transition-all duration-200"},writing:{bg:"bg-violet-50/80 dark:bg-slate-800/50",text:"text-violet-700 dark:text-violet-200",border:"border-violet-100 dark:border-slate-600",hover:"hover:bg-violet-100/80 dark:hover:bg-slate-700/50 hover:border-violet-200 dark:hover:border-slate-500 hover:shadow-md transition-all duration-200"},reading:{bg:"bg-emerald-50/80 dark:bg-slate-800/50",text:"text-emerald-700 dark:text-emerald-200",border:"border-emerald-100 dark:border-slate-600",hover:"hover:bg-emerald-100/80 dark:hover:bg-slate-700/50 hover:border-emerald-200 dark:hover:border-slate-500 hover:shadow-md transition-all duration-200"},listening:{bg:"bg-amber-50/80 dark:bg-slate-800/50",text:"text-amber-700 dark:text-amber-200",border:"border-amber-100 dark:border-slate-600",hover:"hover:bg-amber-100/80 dark:hover:bg-slate-700/50 hover:border-amber-200 dark:hover:border-slate-500 hover:shadow-md transition-all duration-200"}},r={mainBg:"bg-slate-50 dark:bg-slate-900",cardBg:"bg-white dark:bg-slate-800",header:{bg:"bg-white dark:bg-slate-800",border:"border-slate-200 dark:border-slate-700"},scoreOverview:{bg:"bg-gradient-to-br from-slate-50 to-white dark:from-slate-800 dark:to-slate-800",cardBg:"bg-white dark:bg-slate-800/50",border:"border-slate-200 dark:border-slate-700",highlight:"bg-blue-500 dark:bg-blue-600"},questionCard:{bg:"bg-white dark:bg-slate-800",border:"border-slate-200 dark:border-slate-700",hover:"hover:bg-slate-50 dark:hover:bg-slate-700/50",score:{bg:"bg-blue-50 dark:bg-blue-900/30",text:"text-blue-700 dark:text-blue-200"}},writingAssessment:{bg:"bg-white dark:bg-slate-800",border:"border-slate-200 dark:border-slate-700",cardBg:"bg-slate-50 dark:bg-slate-700/50",hover:"hover:bg-white dark:hover:bg-slate-700 hover:shadow-md hover:border-violet-200 dark:hover:border-slate-500 transition-all duration-200",score:{bg:"bg-violet-50 dark:bg-violet-900/30",text:"text-violet-700 dark:text-violet-200"}},text:{primary:"text-slate-900 dark:text-white",secondary:"text-slate-600 dark:text-slate-300",muted:"text-slate-500 dark:text-slate-400"}},y=({testResult:n={}})=>{var c,x;const{testInfo:s,sectionScores:l,questions:o,writingAssessments:m}=n,u=a=>a.charAt(0).toUpperCase()+a.slice(1);return e.jsxs("div",{className:`min-h-screen p-6 ${r.mainBg}`,children:[e.jsx(k,{}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:`${r.cardBg} rounded-xl shadow-lg overflow-hidden border ${r.header.border} transition-all duration-300`,children:[e.jsx("div",{className:`px-6 py-4 border-b ${r.header.border}`,children:e.jsxs("h1",{className:`text-2xl font-bold ${r.text.primary}`,children:[s==null?void 0:s.title," - Results"]})}),e.jsx("div",{className:`px-6 py-4 ${r.scoreOverview.bg}`,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:`${r.scoreOverview.cardBg} ${r.questionCard.hover} p-6 rounded-lg text-center col-span-2 border ${r.scoreOverview.border} shadow-sm`,children:[e.jsx("h3",{className:`text-sm font-medium ${r.text.muted}`,children:"Overall Score"}),e.jsxs("p",{className:`mt-2 text-4xl font-bold ${r.text.primary}`,children:[(c=s==null?void 0:s.scorePercentage)==null?void 0:c.toFixed(1),"%"]}),e.jsxs("p",{className:`text-sm ${r.text.muted}`,children:[(x=s==null?void 0:s.totalScore)==null?void 0:x.toFixed(1),"/",s==null?void 0:s.maxTotalScore," ","points"]}),e.jsx("div",{className:"mt-3",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${s!=null&&s.isPassing?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-200":"bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-200"}`,children:s!=null&&s.isPassing?"PASSED":"FAILED"})})]}),e.jsxs("div",{className:`${r.scoreOverview.cardBg} ${r.questionCard.hover} p-6 rounded-lg flex flex-col items-center justify-center border ${r.scoreOverview.border} shadow-sm`,children:[e.jsx("h3",{className:`text-sm font-medium ${r.text.muted}`,children:"Passing Score"}),e.jsx("p",{className:`mt-2 text-3xl font-bold ${r.text.primary}`,children:(s==null?void 0:s.passingScore)||0}),e.jsx("p",{className:`text-sm ${r.text.muted}`,children:"Required to pass"})]})]})}),e.jsxs("div",{className:`px-6 py-4 border-t ${r.header.border}`,children:[e.jsx("h2",{className:`text-xl font-semibold mb-4 ${r.text.primary}`,children:"Section Scores"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l==null?void 0:l.map(a=>{var b,h;const i=(b=a.name)==null?void 0:b.toLowerCase(),t=g[i]||g.default,d=(h=N.find(v=>v.name.toLowerCase()===i))==null?void 0:h.icon;return e.jsx("div",{className:`p-4 rounded-lg border shadow-sm cursor-pointer ${(t==null?void 0:t.bg)||""} ${(t==null?void 0:t.border)||""} ${(t==null?void 0:t.hover)||""}`,children:e.jsxs("div",{className:"flex items-center space-x-7 md:space-x-5 sm:px-2",children:[e.jsx("div",{className:`text-4xl ${(t==null?void 0:t.text)||""}`,children:d}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-sm font-medium ${(t==null?void 0:t.text)||""}`,children:u(a.name)}),e.jsx("p",{className:`mt-2 text-2xl font-bold ${r.text.primary}`,children:a.score.toFixed(1)}),e.jsxs("p",{className:`text-sm ${(t==null?void 0:t.text)||""}`,children:[a.totalQuestions," questions"]})]})]})},a.name)})})]}),e.jsxs("div",{className:`px-6 py-4 border-t ${r.header.border}`,children:[e.jsx("h2",{className:`text-xl font-semibold mb-4 ${r.text.primary}`,children:"Question Details"}),e.jsx("div",{className:"space-y-3",children:o==null?void 0:o.map(a=>e.jsxs("div",{className:`${r.questionCard.bg} p-4 rounded-lg border ${r.questionCard.border} transition-all duration-200 ${r.questionCard.hover} shadow-sm`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:`font-medium ${r.text.primary}`,children:["Question ",a.number]}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.questionCard.score.bg} ${r.questionCard.score.text}`,children:[a.score," / ",a.points]})]}),e.jsx("p",{className:r.text.secondary,children:a.text}),e.jsx("div",{children:a.speakingResult&&e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:`${r.cardBg} p-3 rounded-lg border ${r.header.border} hover:border-blue-500 transition-colors duration-200`,children:[e.jsx("h4",{className:`text-sm font-medium ${r.text.muted}`,children:"Fluency"}),e.jsxs("p",{className:`text-lg font-semibold ${r.text.primary}`,children:[a.speakingResult.fluency,"%"]})]}),e.jsxs("div",{className:`${r.cardBg} p-3 rounded-lg border ${r.header.border} hover:border-blue-500 transition-colors duration-200`,children:[e.jsx("h4",{className:`text-sm font-medium ${r.text.muted}`,children:"Pronunciation"}),e.jsxs("p",{className:`text-lg font-semibold ${r.text.primary}`,children:[a.speakingResult.pronunciation,"%"]})]}),e.jsxs("div",{className:`${r.cardBg} p-3 rounded-lg border ${r.header.border} hover:border-blue-500 transition-colors duration-200`,children:[e.jsx("h4",{className:`text-sm font-medium ${r.text.muted}`,children:"Vocabulary"}),e.jsxs("p",{className:`text-lg font-semibold ${r.text.primary}`,children:[a.speakingResult.vocabulary,"%"]})]}),e.jsxs("div",{className:`${r.cardBg} p-3 rounded-lg border ${r.header.border} hover:border-blue-500 transition-colors duration-200`,children:[e.jsx("h4",{className:`text-sm font-medium ${r.text.muted}`,children:"Communication"}),e.jsxs("p",{className:`text-lg font-semibold ${r.text.primary}`,children:[a.speakingResult.overallCommunication,"%"]})]})]}),e.jsxs("div",{className:`${r.cardBg} p-4 rounded-lg border ${r.header.border} hover:border-blue-500 transition-colors duration-200`,children:[e.jsx("h4",{className:`font-medium ${r.text.primary} mb-2`,children:"Feedback"}),e.jsx("p",{className:r.text.secondary,children:a.speakingResult.feedback})]})]})})]},a.number))})]}),m==null?void 0:m.map((a,i)=>{var t;return e.jsxs("div",{className:`px-6 py-4 border-t ${r.header.border}`,children:[e.jsxs("h2",{className:`text-xl font-semibold mb-4 ${r.text.primary}`,children:["Writing Assessment ",i+1]}),e.jsxs("div",{className:"space-y-4",children:[(t=a.aspects)==null?void 0:t.map(d=>e.jsxs("div",{className:`${r.writingAssessment.cardBg} p-4 rounded-lg border ${r.writingAssessment.border} ${r.writingAssessment.hover}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:`font-medium ${r.text.primary}`,children:d.name}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.writingAssessment.score.bg} ${r.writingAssessment.score.text}`,children:[d.score,"/",d.maxScore]})]}),e.jsx("p",{className:r.text.secondary,children:d.feedback})]},d.name)),e.jsxs("div",{className:`mt-4 p-4 ${r.writingAssessment.cardBg} rounded-lg border ${r.writingAssessment.border} shadow-sm`,children:[e.jsx("h4",{className:`font-medium ${r.text.primary} mb-2`,children:"Overall Feedback"}),e.jsx("p",{className:r.text.secondary,children:a.overallFeedback}),e.jsxs("p",{className:`mt-2 font-bold ${r.text.primary}`,children:["Total Writing Score: ",a.totalScore.toFixed(1)," /"," ",a.maxScore]})]})]})]},i)})]})})]})},C=()=>{const{attemptId:n}=p(),{data:s,isLoading:l,isError:o}=j(n);return l?e.jsx($,{}):o?e.jsx("div",{children:"Error loading test result"}):s!=null&&s.testResult?e.jsx(y,{testResult:s.testResult}):e.jsx("div",{children:"No test result found"})};export{C as default};
